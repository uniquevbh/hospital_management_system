{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card shadow">
            <div class="card-header bg-success text-white text-center py-4">
                <h3 class="mb-0"><i class="fas fa-user-plus me-2"></i>Patient Registration</h3>
                <small class="opacity-75">Join our healthcare system</small>
            </div>
            <div class="card-body p-4">
                <form method="POST">
                    <div class="row">
                        <div class="col-md-6">
                            <h5 class="border-bottom pb-2 mb-3 text-primary">
                                <i class="fas fa-user-circle me-2"></i>Account Information
                            </h5>
                            
                            <div class="mb-3">
                                <label for="username" class="form-label fw-bold">Username *</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light">
                                        <i class="fas fa-user text-primary"></i>
                                    </span>
                                    <input type="text" 
                                           class="form-control" 
                                           id="username" 
                                           name="username" 
                                           placeholder="Choose a username"
                                           required
                                           minlength="3">
                                </div>
                                <small class="form-text text-muted">Minimum 3 characters</small>
                            </div>
                            
                            <div class="mb-3">
                                <label for="email" class="form-label fw-bold">Email Address *</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light">
                                        <i class="fas fa-envelope text-primary"></i>
                                    </span>
                                    <input type="email" 
                                           class="form-control" 
                                           id="email" 
                                           name="email" 
                                           placeholder="your.email@example.com"
                                           required>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="password" class="form-label fw-bold">Password *</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light">
                                        <i class="fas fa-lock text-primary"></i>
                                    </span>
                                    <input type="password" 
                                           class="form-control" 
                                           id="password" 
                                           name="password" 
                                           placeholder="Create a strong password"
                                           required
                                           minlength="6">
                                </div>
                                <small class="form-text text-muted">Minimum 6 characters</small>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <h5 class="border-bottom pb-2 mb-3 text-success">
                                <i class="fas fa-info-circle me-2"></i>Personal Information
                            </h5>
                            
                            <div class="mb-3">
                                <label for="phone" class="form-label fw-bold">Phone Number</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light">
                                        <i class="fas fa-phone text-success"></i>
                                    </span>
                                    <input type="tel" 
                                           class="form-control" 
                                           id="phone" 
                                           name="phone" 
                                           placeholder="+1 (555) 123-4567">
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="dob" class="form-label fw-bold">Date of Birth</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light">
                                        <i class="fas fa-calendar text-success"></i>
                                    </span>
                                    <input type="date" 
                                           class="form-control" 
                                           id="dob" 
                                           name="dob"
                                           max="{{ today }}">
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="blood_group" class="form-label fw-bold">Blood Group</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light">
                                        <i class="fas fa-tint text-success"></i>
                                    </span>
                                    <select class="form-control" id="blood_group" name="blood_group">
                                        <option value="">Select Blood Group</option>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="address" class="form-label fw-bold">Address</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light align-items-start">
                                        <i class="fas fa-home text-success mt-1"></i>
                                    </span>
                                    <textarea class="form-control" 
                                              id="address" 
                                              name="address" 
                                              rows="3" 
                                              placeholder="Enter your full address"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="terms" required>
                            <label class="form-check-label" for="terms">
                                I agree to the <a href="#" class="text-primary">Terms of Service</a> and 
                                <a href="#" class="text-primary">Privacy Policy</a>
                            </label>
                        </div>
                        
                        <button type="submit" class="btn btn-success btn-lg w-100 py-3 fw-bold">
                            <i class="fas fa-user-plus me-2"></i>Create Patient Account
                        </button>
                    </div>
                </form>
                
                <div class="mt-4 text-center">
                    <p class="mb-0">Already have an account? 
                        <a href="{{ url_for('login') }}" class="text-primary fw-bold">Login here</a>
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Benefits Section -->
        <div class="card mt-4 border-0 bg-light">
            <div class="card-body">
                <h6 class="text-center mb-3">
                    <i class="fas fa-star me-2 text-warning"></i>Benefits of Patient Registration
                </h6>
                <div class="row text-center">
                    <div class="col-md-3 mb-3">
                        <i class="fas fa-calendar-check fa-2x text-primary mb-2"></i>
                        <h6>Easy Appointments</h6>
                        <small class="text-muted">Book with preferred doctors</small>
                    </div>
                    <div class="col-md-3 mb-3">
                        <i class="fas fa-file-medical fa-2x text-success mb-2"></i>
                        <h6>Medical History</h6>
                        <small class="text-muted">Access your health records</small>
                    </div>
                    <div class="col-md-3 mb-3">
                        <i class="fas fa-bell fa-2x text-warning mb-2"></i>
                        <h6>Appointment Reminders</h6>
                        <small class="text-muted">Never miss an appointment</small>
                    </div>
                    <div class="col-md-3 mb-3">
                        <i class="fas fa-shield-alt fa-2x text-info mb-2"></i>
                        <h6>Secure & Private</h6>
                        <small class="text-muted">Your data is protected</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.card {
    border: none;
    border-radius: 15px;
}

.card-header {
    border-radius: 15px 15px 0 0 !important;
}

.input-group-text {
    border-radius: 8px 0 0 8px;
    border-right: none;
}

.form-control {
    border-radius: 0 8px 8px 0;
    border-left: none;
}

.form-control:focus {
    border-color: #dee2e6;
    box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
}

.btn-success {
    background: linear-gradient(45deg, #28a745, #20c997);
    border: none;
    border-radius: 10px;
    transition: all 0.3s ease;
}

.btn-success:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
}

.shadow {
    box-shadow: 0 10px 25px rgba(0,0,0,0.1) !important;
}

.border-bottom {
    border-color: #e9ecef !important;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Set max date for date of birth to today
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('dob').max = today;
    
    // Form validation
    const form = document.querySelector('form');
    form.addEventListener('submit', function(e) {
        const password = document.getElementById('password').value;
        const terms = document.getElementById('terms');
        
        if (password.length < 6) {
            e.preventDefault();
            alert('Password must be at least 6 characters long.');
            return;
        }
        
        if (!terms.checked) {
            e.preventDefault();
            alert('Please agree to the Terms of Service and Privacy Policy.');
            return;
        }
    });
});
</script>
{% endblock %}